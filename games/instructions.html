<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Conversation Night ‚Äî Instructions (A4)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  /* A4 layout */
  @page { size: A4; margin: 14mm; }
  @media print { .no-print { display: none !important; } }

  :root{
    --ink:#1b1b1b; --muted:#666; --accent:#ff7a00; --soft:#fff6ee; --line:#e9e9e9;
  }
  *{box-sizing:border-box}
  body{font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:var(--ink); margin:0; background:#fff;}
  .sheet{max-width: 180mm; margin: 0 auto; padding: 0;}
  header{display:flex; align-items:flex-start; gap:16px; margin-bottom: 14mm; border-bottom:1px solid var(--line); padding-bottom:10mm;}
  .title{flex:1}
  h1{font-size: 24pt; line-height:1.15; margin:0 0 6px 0;}
  .sub{color:var(--muted); font-size:11pt}
  .pill{display:inline-block; font-size:9pt; padding:4px 8px; border-radius:999px; background:var(--soft); color:#883c00; margin-top:6px; border:1px solid #ffd9bf;}
  .qrBlock{display:flex; gap:14mm; align-items:center;}
  .qrBox{width:48mm; height:48mm; border:1px dashed #ffcfab; border-radius:8px; display:grid; place-items:center; padding:4mm;}
  #qrcode{width:40mm; height:40mm; display:grid; place-items:center;}
  .qrNote{font-size:9pt; color:var(--muted); margin-top:3mm}
  .urlRow{display:flex; gap:6px; align-items:center; margin-top:6px}
  input[type="text"]{flex:1; padding:8px 10px; font-size:10pt; border:1px solid var(--line); border-radius:8px;}
  button{padding:8px 12px; border:1px solid var(--accent); background:var(--accent); color:#fff; border-radius:8px; cursor:pointer; font-weight:600}
  button.ghost{background:#fff; color:var(--accent)}
  
  .grid{display:grid; grid-template-columns: 1fr 1fr; gap:10mm;}
  h2{font-size:13pt; margin:0 0 6px 0; letter-spacing:.02em}
  ol, ul{margin:0; padding-left:14px}
  li{margin:3mm 0; font-size:11pt}
  .box{border:1px solid var(--line); border-radius:10px; padding:6mm}
  .toneRow{display:flex; flex-wrap:wrap; gap:6px; margin-top:3mm}
  .tag{font-size:9pt; padding:3px 8px; border:1px solid var(--line); border-radius:999px; background:#fafafa}
  .tiers{display:flex; gap:6px; margin-top:2mm}
  .tier{font-size:9pt; padding:2px 8px; border-radius:999px; border:1px solid var(--line)}
  .t1{background:#eafff6; border-color:#c1f3e2}
  .t2{background:#fff4d4; border-color:#ffe3a0}
  .t3{background:#ffe6ea; border-color:#ffc6d1}
  .hint{color:var(--muted); font-size:9pt}

  footer{margin-top:12mm; border-top:1px solid var(--line); padding-top:6mm; font-size:9pt; color:var(--muted); display:flex; justify-content:space-between}
</style>
</head>
<body>
<div class="sheet">

  <header>
    <div class="title">
      <h1>Conversation Night ‚Äî How to Play</h1>
      <div class="sub">Make friends over food: quick prompts, short stories, lots of laughs.</div>
      <span class="pill">Scan the QR to get a random multilingual prompt (EN/‡πÑ‡∏ó‡∏¢/‰∏≠Êñá)</span>
    </div>

    <div>
      <div class="qrBlock">
        <div class="qrBox"><div id="qrcode"></div></div>
        <div class="no-print" style="max-width:70mm">
          <div class="hint"><b>Set your QR URL</b> (your hosted randomizer page) and click Update. Then print.</div>
          <div class="urlRow">
            <input id="qrUrl" type="text" placeholder="https://yourdomain.example/connection/" value="https://example.com/connection/">
            <button id="btnUpdate">Update QR</button>
          </div>
          <div class="urlRow">
            <button class="ghost" onclick="window.print()">üñ®Ô∏è Print A4</button>
          </div>
          <div class="qrNote">Tip: After printing a test, set the final Netlify/GitHub URL and print the final batch.</div>
        </div>
      </div>
    </div>
  </header>

  <section class="grid">
    <div class="box">
      <h2>Quick Start (1 minute)</h2>
      <ol>
        <li>Form groups of 4‚Äì8 at each table.</li>
        <li>Scan the QR to get a random prompt.</li>
        <li><b>Answer fast:</b> 20‚Äì40 seconds each.</li>
        <li>React, ask ‚Äúwhy?‚Äù, share a short story.</li>
      </ol>
      <div class="hint" style="margin-top:3mm">Be kind. Let everyone speak. Keep topics friendly. No politics.</div>
    </div>

    <div class="box">
      <h2>Modes (pick one per prompt)</h2>
      <ul>
        <li><b>Solo:</b> One volunteer answers; others react.</li>
        <li><b>Pair:</b> Turn to a neighbor; both answer.</li>
        <li><b>Table:</b> Everyone gives a quick answer.</li>
        <li><b>Debate:</b> Split into 2 sides; 30‚Äì60s per side.</li>
      </ul>
      <div class="hint" style="margin-top:3mm">Large groups? Use <b>Table</b> or <b>Debate</b>. Save deeper prompts for later.</div>
    </div>

    <div class="box">
      <h2>Difficulty Tiers</h2>
      <div class="tiers">
        <span class="tier t1">Tier 1 ‚Äî Easy</span>
        <span class="tier t2">Tier 2 ‚Äî Medium</span>
        <span class="tier t3">Tier 3 ‚Äî Deep</span>
      </div>
      <ul style="margin-top:3mm">
        <li><b>First 10‚Äì15 min:</b> Easy (warm up)</li>
        <li><b>Middle:</b> Medium (stories, preferences)</li>
        <li><b>Last 20‚Äì30 min:</b> Deep (meaningful)</li>
      </ul>
    </div>

    <div class="box">
      <h2>Tones</h2>
      <div class="toneRow">
        <span class="tag">üçú Food</span>
        <span class="tag">‚úàÔ∏è Travel</span>
        <span class="tag">üòé Personality</span>
        <span class="tag">ü§™ Funny</span>
        <span class="tag">üß† Deep</span>
      </div>
      <ul style="margin-top:3mm">
        <li>Tap tone filters on the phone page to match your vibe.</li>
        <li>Unlock follow-up questions for richer stories.</li>
      </ul>
    </div>

    <div class="box">
      <h2>Suggested Timings</h2>
      <ul>
        <li><b>30 min:</b> 2‚Äì3 prompts, Table mode, Easy‚ÜíMedium.</li>
        <li><b>60 min:</b> 4‚Äì5 prompts, mix Pair/Table, end with Debate.</li>
        <li><b>120 min:</b> 6‚Äì8 prompts, build to Deep, finish with Culture/Story round.</li>
      </ul>
    </div>

    <div class="box">
      <h2>House Rules</h2>
      <ul>
        <li>Listen actively. Don‚Äôt interrupt.</li>
        <li>Invite quiet voices in.</li>
        <li>Share if comfy; pass if not.</li>
        <li>Keep it friendly; laugh a lot.</li>
      </ul>
    </div>
  </section>

  <footer>
    <div>Conversation prompts in English ‚Ä¢ ‡πÑ‡∏ó‡∏¢ ‚Ä¢ ‰∏≠Êñá</div>
    <div>Powered by the Random Prompt QR ‚Äî spin & connect</div>
  </footer>
</div>

<!-- Inline QR generator (qrcode.js minified; MIT license, author: davidshimjs) -->
<script>
/*!
* QRCode.js
* https://github.com/davidshimjs/qrcodejs
* (MIT License)
*/
!function(o){
    function t(o){
        this.mode=u.MODE_8BIT_BYTE,this.data=o,this.parsedData=[];
        for(var t=0,e=this.data.length;t<e;t++){
            var r=[],i=this.data.charCodeAt(t);
            i>65536?(
                r[0]=240|(1835008&i)>>>18,r[1]=128|(258048&i)>>>12,r[2]=128|(4032&i)>>>6,r[3]=128|63&i
            ):i>2048?(
                r[0]=224|(61440&i)>>>12,r[1]=128|(4032&i)>>>6,r[2]=128|63&i
            ):i>128?(
                r[0]=192|(1984&i)>>>6,r[1]=128|63&i
            ):r[0]=i,this.parsedData.push(r)
        }
        this.parsedData=Array.prototype.concat.apply([],this.parsedData),
        this.parsedData.length!=this.data.length&&(
            this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239)
        )
    }
    function e(o,t){
        this.typeNumber=o,
        this.errorCorrectLevel=t,
        this.modules=null,
        this.moduleCount=0,
        this.dataCache=null,
        this.dataList=[]
    }
    function r(o,t){
        if(void 0==o.length)
            throw new Error(o.length+"/"+t)
        for(var e=0;e<o.length&&0==o[e];)
            e++;
        this.num=o.length-e,this.buf=new Array(this.num);
        for(var r=0;r<this.num;r++)
            this.buf[r]=o[r+e]
    }
    function i(o,t){
        this.totalCount=o,this.dataCount=t
    }
    function n(){
        this.buffer=[],this.length=0
    }function s(){
        return"undefined"!=typeof CanvasRenderingContext2D
    }
    function h(){
        var t=!1,e=navigator.userAgent;
        return/android/i.test(e)&&(
            t=!0,tMat=e.toLowerCase().match(/android\s([0-9\.]+)/),tMat&&tMat[1]&&(t=parseFloat(tMat[1]))
        ),t
    }
    function a(o,t){
        for(var e=1,r=function(o){
            var t=1,e=0,r=0,i=0,n=0,s=0,h=0,a=0;
            return t=1,o*=16,e=o>>>24&255,
            r=o>>>16&255,i=o>>>8&255,n=255&o,
            (s=n^i^r^e)<<24|(h=e^n^(i|~r))<<16|(a=r^e^(n|~i))<<8|i^r^(e|~n)
        }
        (t),i=0;
        i<o;
        i++)e=(e<<1)+1;
        return e^r
    }
    var u={
        PAD0:236,
        PAD1:17,
        MODE_NUMBER:1,
        MODE_ALPHA_NUM:2,
        MODE_8BIT_BYTE:4,
        MODE_KANJI:8
    };
    t.prototype={
        getLength:function(o){
            return this.parsedData.length
        },
        write:function(o){
            for(var t=0,e=this.parsedData.length;t<e;t++)
            o.put(this.parsedData[t],8)
        }
    },
    e.prototype={
        addData:function(o){
            var e=new t(o);
            this.dataList.push(e),
            this.dataCache=null
        },
        isDark:function(o,t){
            if(0>o||this.moduleCount<=o||0>t||this.moduleCount<=t)
                throw new Error(o+","+t);
        return this.modules[o][t]
    },
    getModuleCount:function(){
        return this.moduleCount
    },
    make:function(){
        if(this.typeNumber<1){
            for(var o=1;o<40;o++){
                for(var t=i.getRsBlockTable(o,this.errorCorrectLevel),r=new i(t[0],t[1]),n=0,s=0,h=0;h<r.length;h++)
                    n+=r[h].totalCount,s+=r[h].dataCount;
                for(var a=n-s,u=new e(o,this.errorCorrectLevel),l=0;l<this.dataList.length;l++)
                    u.addData(this.dataList[l].data);
                if(u.createData(a).length<=a){
                    this.typeNumber=o;
                    break
                }
            }
        }
        this.makeImpl(!1,this.getBestMaskPattern())
    },
    makeImpl:function(o,t){
        this.moduleCount=4*this.typeNumber+17,
        this.modules=new Array(this.moduleCount);
        for(var e=0;e<this.moduleCount;e++){
            this.modules[e]=new Array(this.moduleCount);
            for(var r=0;r<this.moduleCount;r++)
                this.modules[e][r]=null
            }
            this.setupPositionProbePattern(0,0),
            this.setupPositionProbePattern(this.moduleCount-7,0),
            this.setupPositionProbePattern(0,this.moduleCount-7),
            this.setupPositionAdjustPattern(),
            this.setupTimingPattern(),
            this.setupTypeInfo(o,t),
            this.typeNumber>=7&&this.setupTypeNumber(o),
            null==this.dataCache&&(
                this.dataCache=this.createData(
                    this.typeNumber*i.getTotalDataCount(
                        this.typeNumber,this.errorCorrectLevel
                    )
                )
            ),
            this.mapData(this.dataCache,t)
        },
        setupPositionProbePattern:function(o,t){
            for(var e=-1;7>=e;e++)
                if(!(0>o+e||this.moduleCount<=o+e))
                    for(var r=-1;7>=r;r++)
                        0>t+r||this.moduleCount<=t+r||(this.modules[o+e][t+r]=e>=0&&6>=e&&(0==r||6==r)||r>=0&&6>=r&&(0==e||6==e)||e>=2&&4>=e&&r>=2&&4>=r)
                    },
                    getBestMaskPattern:function(){
                        for(var o=0,t=0,e=0;8>e;e++){
                            this.makeImpl(!0,e);
                            var r=a(this.getLostPoint());
                            (0==e||o>r)&&(o=r,t=e)
                        }
                        return t
                    },
                    createMovieClip:function(o,t,e){
                        var r=o.createEmptyMovieClip(t,null);this.make();
                        for(var i=1.5,n=0;n<this.modules.length;n++)
                            for(var s=n*i,h=0;h<this.modules[n].length;h++){
                                var a=h*i,u=this.modules[n][h];
                                u&&(r.beginFill(0,100),r.moveTo(a,s),r.lineTo(a+i,s),r.lineTo(a+i,s+i),r.lineTo(a,s+i),r.endFill())
                            }
                            return r
                        },
                        setupTimingPattern:function(){
                            for(var o=8;o<this.moduleCount-8;o++)
                                null==this.modules[o][6]&&(this.modules[o][6]=0==o%2);
                            for(var t=8;t<this.moduleCount-8;t++)
                                null==this.modules[6][t]&&(this.modules[6][t]=0==t%2)
                        },
                        setupPositionAdjustPattern:function(){
                            for(var o=i.getPatternPosition(this.typeNumber),t=0;t<o.length;t++)
                            for(var e=0;e<o.length;e++){
                                var r=o[t],n=o[e];
                                if(null==this.modules[r][n])
                                for(var s=-2;2>=s;s++)
                                    for(var h=-2;2>=h;h++)
                                        this.modules[r+s][n+h]=-2==s||2==s||-2==h||2==h||0==s&&0==h
                            }
                        },
                        setupTypeNumber:function(o){
                            for(var t=a(43577),e=0;18>e;e++)
                                this.modules[Math.floor(e/3)][e%3+this.moduleCount-8-3]=!o&&1==(t>>e&1)
                        },
                        setupTypeInfo:function(o,t){
                            for(var e=this.errorCorrectLevel<<3|t,r=a(e),i=0;15>i;i++)
                                this.modules[i>=6?i+1:i][8]=!o&&1==(r>>i&1);
                            for(i=0;15>i;i++)
                                this.modules[8][i>=8?i+1:i]=!o&&1==(r>>i&1);
                            this.modules[this.moduleCount-8][8]=!o
                        },
                        mapData:function(o,t){
                            for(var e=-1,r=this.moduleCount-1,i=7,n=0,s=this.moduleCount-1;s>0;s-=2)
                                for(6==s&&s--;;){
                                    for(var h=0;2>h;h++)
                                        if(null==this.modules[r][s-h]){
                                            var a=!1;
                                            n<this.dataCache.length&&(a=1==(this.dataCache[n]>>>i&1)),
                                            this.modules[r][s-h]=a,i--,0>i&&(i=7,n++)
                                        }
                                        if(r+=e,0>r||this.moduleCount<=r){r-=e,e=-e;
                                            break
                                        }
                                }
                        },
                        setupPositionProbePattern:function(o,t){
                            for(var e=-1;7>=e;e++)
                                if(!(0>o+e||this.moduleCount<=o+e))
                                    for(var r=-1;7>=r;r++)
                                        0>t+r||this.moduleCount<=t+r||(this.modules[o+e][t+r]=e>=0&&6>=e&&(0==r||6==r)||r>=0&&6>=r&&(0==e||6==e)||e>=2&&4>=e&&r>=2&&4>=r)
                        },
                        getLostPoint:function(){
                            for(var o=0,t=0,e=0,r=0,i=this.moduleCount,n=0;i>n;n++)
                                for(var s=0;i>s;s++){
                                    for(var h=0,a=this.isDark(n,s),u=-1;1>=u;u++)
                                        if(!(0>n+u||this.moduleCount<=n+u))
                                            for(var l=-1;1>=l;l++)
                                                0>s+l||this.moduleCount<=s+l||0==u&&0==l||a!=this.isDark(n+u,s+l)||h++;h>5&&(o+=3+h-5)
                                }
                                for(var c=0;i-1>c;c++)
                                    for(var d=0;i-1>d;d++){
                                        var f=0;
                                        this.isDark(c,d)&&f++,
                                        this.isDark(c+1,d)&&f++,
                                        this.isDark(c,d+1)&&f++,
                                        this.isDark(c+1,d+1)&&f++,
                                        0==f||4==f&&(o+=3)
                                    }
                                    for(var p=0;i>p;p++)
                                        for(var m=0;i>m;m++)
                                            if(
                                                this.isDark(p,m)&&t++,
                                                e++,
                                                (0==e||i==e)&&o+Math.abs(t/i-.5)*3,
                                                t=0,
                                                0==e&&(r+=t,t=0),
                                                e==i&&(r+=t,t=0),
                                                m==i-1&&(e=0,t=0)
                                            );
                                        return o+=r*10
                        },
                        createData:function(o){for(var t=i.getRsBlockTable(this.typeNumber,this.errorCorrectLevel),e=new n,r=0;r<this.dataList.length;r++){var s=this.dataList[r];e.put(4,4),e.put(s.getLength(),8),s.write(e)}for(var h=0,a=0,u=0;u<t.length;u++)h+=t[u].dataCount,a+=t[u].totalCount;for(var l=new Array(h),c=0;c<l.length;c++)l[c]=255&e.buffer[c];return e.buffer.length<h&&e.put(0,8),i.createBytes(l,t)},createBytes:function(o,t){for(var e=0,r=0,n=0,s=0,h=0,a=0,u=new Array(t.length),l=0;l<t.length;l++)u[l]=new i(t[l].totalCount,t[l].dataCount);for(var c=0;c<u.length;c++)for(var d=0;d<u[c].dataCount;d++)u[c].data[d]=255&o[d+h];for(d=u[c].dataCount;d<u[c].totalCount;d++)u[c].ec[d-u[c].dataCount]=255&o[r++];for(var f=0;f<u.length;f++)a+=u[f].dataCount,n=Math.max(n,u[f].dataCount),s=Math.max(s,u[f].totalCount);for(var p=0;p<n;p++)for(c=0;c<u.length;c++)p<u[c].dataCount&&(e=e<<8|u[c].data[p]);for(p=0;p<s;p++)for(c=0;c<u.length;c++)p<u[c].totalCount&&(e=e<<8|u[c].ec[p]);for(;e>0;)e>>=8,h++;return new r(new Array(h+1))}},r.prototype={get:function(o){return 1==(this.buf[this.buf.length-o]>>>0&1)}},i.getRsBlockTable=function(o,t){switch(t){case 1:return[[1,19,7],[1,34,10],[1,55,15],[1,80,20],[1,108,26],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30]];default:return[[1,19,7],[1,34,10],[1,55,15],[1,80,20],[1,108,26],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30],[2,68,18],[2,78,20],[2,97,24],[2,116,30]]}},i.getTotalDataCount=function(o,t){for(var e=i.getRsBlockTable(o,t),r=0,n=0;n<e.length;n++)r+=e[n].dataCount;return r},n.prototype={getLengthInBits:function(){return this.length},put:function(o,t){for(var e=0;t>e;e++)this.putBit(1==(o>>>t-e-1&1))},putBit:function(o){this.buffer[this.length>>3]|=o?1<<7-(this.length&7):0,this.length++}},o.QRCode=e,o.QRCodeModel=e,o.QRErrorCorrectLevel={L:1,M:0,Q:3,H:2}
}(window);
</script>

<script>
  // Build QR with current URL input:
  function buildQR() {
    const url = document.getElementById('qrUrl').value.trim() || 'https://example.com/connection/';
    const box = document.getElementById('qrcode');
    box.innerHTML = '';
    const q = new QRCode(4, QRErrorCorrectLevel.M);  // type auto-ish via custom; this impl uses type number directly
    // Fallback if that small lib variant differs:
    try {
      const qr = new QRCodeModel(6, QRErrorCorrectLevel.M);
      qr.addData(url); qr.make();
      const size = 150; // px, will scale via CSS box
      const c = document.createElement('canvas'); c.width = size; c.height = size;
      const ctx = c.getContext('2d');
      const count = qr.getModuleCount();
      const tile = size / count;
      ctx.fillStyle = '#000';
      for (let r=0; r<count; r++){
        for (let c2=0; c2<count; c2++){
          if (qr.isDark(r,c2)) {
            ctx.fillRect(Math.round(c2*tile), Math.round(r*tile), Math.ceil(tile), Math.ceil(tile));
          }
        }
      }
      box.appendChild(c);
    } catch(e){
      // Some builds expose QRCode class differently ‚Äî try simpler API:
      try{
        const qr = new QRCode(box, { text: url, width: 160, height: 160, correctLevel: QRErrorCorrectLevel.M });
      }catch(e2){
        box.textContent = 'QR error';
      }
    }
  }
  document.getElementById('btnUpdate').addEventListener('click', buildQR);
  // Initial render
  buildQR();
</script>
</body>
</html>
